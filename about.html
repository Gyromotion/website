<!DOCTYPE html>
<html>
<head>
    <title>About Gyromotion</title>
    <style>
        /* Existing CSS */
        body {
            background-image: url('img/bg.png');
            background-repeat: no-repeat;
            background-size: cover;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        #reviews-container {
            width: 100%;
            max-width: 600px;
            height: 250px; /* Default height */
            overflow: hidden; /* Hide overflow content */
            margin: 20px auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            padding: 10px;
            box-sizing: border-box;
        }

        #reviews {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-y: auto; /* Enable vertical scrolling if content exceeds height */
            overflow-x: hidden; /* Hide horizontal overflow */
            padding-right: 15px; /* Space for scrollbar */
        }

        .review {
            display: none; /* Initially hide all reviews */
            text-align: center;
            opacity: 0; /* Initially hide reviews with opacity */
            transition: opacity 1s ease-in-out;
            position: absolute;
            width: 100%;
            box-sizing: border-box;
        }

        .review img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .review-content p {
            margin: 0;
            color: #333;
        }

        .review-content .author {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .review-content .rating {
            color: #ffb400;
        }

        .review-content .text {
            margin-top: 5px;
            max-height: 60px; /* Default height for truncated text */
            overflow: auto;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3; /* Number of lines to show */
            -webkit-box-orient: vertical;
        }

        .read-more {
            margin-top: 10px;
            cursor: pointer;
            color: #007bff;
            text-decoration: underline;
        }

        .expanded .review-content .text {
            max-height: none;
            -webkit-line-clamp: unset;
        }

        /* Additional Styles */
        header, nav, footer {
            text-align: center;
        }

        .container {
            text-align: center;
        }

        .map-container {
            margin: 20px 0;
        }

        .button {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px 0;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
        }

        .feature-chart {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .feature {
            background-color: #007bff;
            color: #fff;
            padding: 10px;
            margin: 0 10px;
            border-radius: 5px;
        }
    </style>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBASVA4DyLglydYFexjr_4IxGDpShHXZv4&libraries=places"></script>
</head>
<body>
    <header>
        <a href="https://gyromotionphysio.in"><img src="img/logo-png.png" alt="Logo" class="logo" style="height: auto; max-width: 68%;"></a>
    </header>
    
    <nav>
        <ul>
            <li><a href="https://gyromotionphysio.in">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="appointment.html">Book an Appointment</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2>About Us</h2>

        <div id="reviews-container">
            <h2>Customer Reviews</h2>
            <div id="reviews"></div>
        </div>

        <p> &#x1F4CD Plot Number 1, Shree Siddhivinayak society, Near Pawar Hospital, front Of Lotus Computers, Vatan Nagar, Talegaon Dabhade, Maharashtra Pune 410507</p>
        <div class="map-container">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3778.4841201209038!2d73.67506487519677!3d18.73190058240315!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2b13debb5c2c9%3A0x31ca8412b489dfe2!2sGyromotion%20Physiotherapy%20Clinic!5e0!3m2!1sen!2sin!4v1697547447853!5m2!1sen!2sin" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        <a href="https://maps.app.goo.gl/NPd3sYozJ439jVKg8?g_st=ic" class="button">Navigate To Clinic</a>
        <p>Why Choose Us:</p>
        <div class="feature-chart">
            <div class="feature">Individualized Care</div>
            <div class="feature">Evidence-Based Approach</div>
            <div class="feature">Convenient Scheduling</div>
        </div>
        <p>Take the first step towards a healthier, pain-free life by scheduling an appointment with Gyromotion today. Feel free to explore our website for more information, and please don't hesitate to reach out if you have any questions. We look forward to partnering with you on your path to better health!</p>
        <a href="appointment.html" class="button">Book An Appointment</a>
        <br>
        <div style="text-align: center;">
            Follow us on Instagram <a href="https://www.instagram.com/gyromotion.physio" target="_blank">@gyromotion.physio</a>
        </div>
    </div>

    <footer>
        <p>&copy; 2023 Gyromotion Physiotherapy Clinic. All rights reserved.
     </footer>

    <script>
        let reviewInterval;
        let reviewsDiv;
        let reviews;
        let index = 0;
        let rotationPaused = false;

        function initMap() {
            var service = new google.maps.places.PlacesService(document.createElement('div'));
            service.getDetails({
                placeId: 'ChIJycK16z2xwjsR4t-JtBKEyjE' // Replace with your Place ID
            }, function(place, status) {
                if (status === google.maps.places.PlacesServiceStatus.OK) {
                    reviews = place.reviews;
                    reviewsDiv = document.getElementById('reviews');

                    function showReview() {
                        if (rotationPaused) return;
                        var allReviews = reviewsDiv.children;
                        if (allReviews.length > 0) {
                            for (var i = 0; i < allReviews.length; i++) {
                                allReviews[i].style.display = 'none';
                                allReviews[i].style.opacity = '0';
                            }
                            allReviews[index].style.display = 'block';
                            allReviews[index].style.opacity = '1';

                            index = (index + 1) % allReviews.length;
                        }
                    }

                    reviews.forEach(function(review) {
                        var reviewDiv = document.createElement('div');
                        reviewDiv.classList.add('review');
                        reviewDiv.innerHTML = `
                            <img src="${review.profile_photo_url || 'https://maps.gstatic.com/tactile/afg_main/2x/places_default_avatar.png'}" alt="Avatar">
                            <div class="review-content">
                                <p class="author">${review.author_name} <span class="rating">(${review.rating} stars)</span></p>
                                <p class="text">${review.text}</p>
                                <span class="read-more" onclick="toggleExpand(this)">Read More</span>
                            </div>
                        `;
                        reviewsDiv.appendChild(reviewDiv);
                    });

                    // Show the first review
                    showReview();
                    
                    reviewInterval = setInterval(showReview, 5000); // Change review every 5 seconds

                    // Function to toggle expand/collapse
                    window.toggleExpand = function(element) {
                        var reviewDiv = element.closest('.review');
                        reviewDiv.classList.toggle('expanded');
                        rotationPaused = !rotationPaused; // Pause rotation when expanding
                    }

                    // Function to resume rotation
                    function resumeRotation() {
                        if (rotationPaused) {
                            rotationPaused = false;
                            clearInterval(reviewInterval);
                            reviewInterval = setInterval(showReview, 5000);
                        }
                    }

                    // Detect click outside review container to resume rotation
                    document.addEventListener('click', function(event) {
                        if (!document.getElementById('reviews-container').contains(event.target)) {
                            resumeRotation();
                        }
                    });
                }
            });
        }

        // Initialize the map and reviews
        window.onload = initMap;
    </script>
</body>
</html>
